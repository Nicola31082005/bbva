{{#if isWysiwygMode}}
<!-- WYSIWYG Admin Toolbar -->
<div id="wysiwygToolbar" class="wysiwyg-toolbar">
    <div class="toolbar-content">
        <div class="toolbar-left">
            <span class="toolbar-title">üé® WYSIWYG Admin Mode</span>
            <span class="toolbar-subtitle">Click on any text to edit</span>
        </div>
        <div class="toolbar-center">
            <div class="page-navigation">
                <a href="/admin-wysiwyg" class="nav-btn">
                    <i class="icon">üè†</i>
                    <span>Main</span>
                </a>
                <a href="/admin-wysiwyg/gestor" class="nav-btn">
                    <i class="icon">üë§</i>
                    <span>Gestor</span>
                </a>
                <a href="/admin-wysiwyg/accounts" class="nav-btn active">
                    <i class="icon">üè¶</i>
                    <span>Accounts</span>
                </a>
            </div>
        </div>
        <div class="toolbar-right">
            <button class="toolbar-btn" onclick="toggleEditMode()" id="editModeBtn">
                <i class="icon">‚úèÔ∏è</i>
                <span>Edit Mode: ON</span>
            </button>
            <button class="toolbar-btn" onclick="saveAllChanges()">
                <i class="icon">üíæ</i>
                <span>Save All</span>
            </button>
            <a href="/accounts" class="toolbar-btn toolbar-btn-exit">
                <i class="icon">üëÅÔ∏è</i>
                <span>View Mode</span>
            </a>
        </div>
    </div>
</div>
{{/if}}

{{> desktop/top-header}}

<div class="desktop-main-container {{#if isWysiwygMode}}wysiwyg-mode{{/if}}">
    {{> desktop/sidebar}}

    <main class="desktop-main-content">
        <!-- Page Header -->
        <div class="page-header">
            <h1 class="{{#if isWysiwygMode}}editable{{/if}}" 
                {{#if isWysiwygMode}}data-field="pageTitle" data-page="accounts" data-type="text"{{/if}}>
                {{desktopData.accounts.pageTitle}}
            </h1>
            <div class="header-actions">
                <button class="btn btn-primary">My overview</button>
                <button class="btn btn-secondary">Apply</button>
                <button class="btn btn-icon" title="Print">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="6,9 6,2 18,2 18,9"></polyline>
                        <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
                        <rect x="6" y="14" width="12" height="8"></rect>
                    </svg>
                </button>
                <button class="btn btn-icon" title="Export">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14,2 14,8 20,8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10,9 9,9 8,9"></polyline>
                    </svg>
                </button>
            </div>
        </div>

        <div class="accounts-layout">
            <!-- Main Content -->
            <div class="accounts-main">
                <!-- Personal Accounts Section -->
                <div class="accounts-section">
                    <div class="section-header">
                        <h2>Personal Accounts</h2>
                        <div class="bizum-toggle">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                                <path d="M2 17l10 5 10-5"></path>
                                <path d="M2 12l10 5 10-5"></path>
                            </svg>
                            <span>Send / Receive money (Bizum)</span>
                            <svg class="chevron-up" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="18 15 12 9 6 15"></polyline>
                            </svg>
                        </div>
                    </div>

                    <!-- Account Details -->
                    <div class="account-item">
                        <div class="account-info">
                            <div class="account-number {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="accountNumber" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.accountNumber}}
                            </div>
                            <div class="account-type {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="accountType" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.accountType}}
                            </div>
                            <div class="account-holder {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="accountHolder" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.accountHolder}}
                            </div>
                        </div>
                        <div class="account-balance">
                            <div class="balance-amount {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="currentBalance" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.currentBalance}}
                            </div>
                            <div class="balance-label">Current balance 
                                <span class="{{#if isWysiwygMode}}editable{{/if}}" 
                                      {{#if isWysiwygMode}}data-field="currentBalance" data-page="accounts" data-type="text"{{/if}}>
                                      {{desktopData.accounts.currentBalance}}
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- Available Balance -->
                    <div class="available-balance">
                        <span class="available-label">Available</span>
                        <span class="available-amount {{#if isWysiwygMode}}editable{{/if}}" 
                              {{#if isWysiwygMode}}data-field="availableBalance" data-page="accounts" data-type="text"{{/if}}>
                              {{desktopData.accounts.availableBalance}}
                        </span>
                    </div>
                </div>

                <!-- Cards Section -->
                <div class="cards-section">
                    <div class="section-header">
                        <h2>Cards</h2>
                        <svg class="chevron-up" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="18 15 12 9 6 15"></polyline>
                        </svg>
                    </div>

                    <!-- Debit Card -->
                    <div class="card-item">
                        <div class="card-visual">
                            <div class="card-image">
                                <div class="card-logo">
                                    <svg viewBox="0 0 40 24" xmlns="http://www.w3.org/2000/svg">
                                        <rect width="40" height="24" rx="4" fill="#e74c3c"/>
                                        <text x="20" y="16" text-anchor="middle" fill="white" font-size="8" font-weight="bold">Z</text>
                                    </svg>
                                </div>
                            </div>
                            <div class="card-status">AVAILABLE</div>
                        </div>
                        <div class="card-details">
                            <div class="card-number {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="cardNumber" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.cardNumber}}
                            </div>
                            <div class="card-status-text {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="cardStatus" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.cardStatus}}
                            </div>
                            <div class="card-type {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="cardType" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.cardType}}
                            </div>
                            <div class="card-holder {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="accountHolder" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.accountHolder}}
                            </div>
                        </div>
                        <div class="card-actions">
                            <button class="btn btn-primary">Activate</button>
                            <div class="card-balance">-</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Sidebar -->
            <div class="accounts-sidebar">
                <!-- Contact Info -->
                <div class="contact-card">
                    <div class="contact-header">
                        <div class="contact-icon">
                            <img class="clip-box__image" src="https://web.bbva.es/packages/assets/img/coronita/entity/clip/light/170.svg?v=3646262f" alt="">
                        </div>
                        <div class="contact-info">
                            <div class="contact-name {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="contactTeam" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.contactTeam}}
                            </div>
                            <div class="contact-phone {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="contactPhone" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.contactPhone}}
                            </div>
                        </div>
                    </div>
                    <button class="request-appointment-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        <span class="{{#if isWysiwygMode}}editable{{/if}}" 
                              {{#if isWysiwygMode}}data-field="appointmentText" data-page="accounts" data-type="text"{{/if}}>
                              {{desktopData.accounts.appointmentText}}
                        </span>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M9 18l6-6-6-6"></path>
                        </svg>
                    </button>
                </div>

                <!-- Scheduled Transfers -->
                <div class="transfers-card">
                    <h3 class="{{#if isWysiwygMode}}editable{{/if}}" 
                        {{#if isWysiwygMode}}data-field="transfersTitle" data-page="accounts" data-type="text"{{/if}}>
                        {{desktopData.accounts.transfersTitle}}
                    </h3>
                    <button class="view-btn">View</button>
                </div>

                <!-- Product Suggestion -->
                <div class="product-card">
                    <div class="product-header">
                        <span>At BBVA, we help you</span>
                    </div>
                    <h3 class="{{#if isWysiwygMode}}editable{{/if}}" 
                        {{#if isWysiwygMode}}data-field="productSuggestion" data-page="accounts" data-type="text"{{/if}}>
                        {{desktopData.accounts.productSuggestion}}
                    </h3>
                    <div class="product-selector">
                        <select>
                            <option>Select the product family</option>
                            <option>Accounts and Cards</option>
                            <option>Loans and Mortgages</option>
                            <option>Savings and Investment</option>
                        </select>
                        <button class="enter-btn">Enter now</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<script src="/js/desktop/accounts.js"></script>
