{{#if isWysiwygMode}}
<!-- WYSIWYG Admin Toolbar -->
<div id="wysiwygToolbar" class="wysiwyg-toolbar">
    <div class="toolbar-content">
        <div class="toolbar-left">
            <span class="toolbar-title">üé® WYSIWYG Admin Mode</span>
            <span class="toolbar-subtitle">Click on any text to edit</span>
        </div>
        <div class="toolbar-center">
            <div class="page-navigation">
                <a href="/admin-wysiwyg" class="nav-btn">
                    <i class="icon">üè†</i>
                    <span>Main</span>
                </a>
                <a href="/admin-wysiwyg/gestor" class="nav-btn">
                    <i class="icon">üë§</i>
                    <span>Gestor</span>
                </a>
                <a href="/admin-wysiwyg/accounts" class="nav-btn active">
                    <i class="icon">üè¶</i>
                    <span>Accounts</span>
                </a>
                <a href="/admin-wysiwyg/insurance" class="nav-btn">
                    <i class="icon">üõ°Ô∏è</i>
                    <span>Insurance</span>
                </a>
            </div>
        </div>
        <div class="toolbar-right">
            <button class="toolbar-btn" onclick="toggleEditMode()" id="editModeBtn">
                <i class="icon">‚úèÔ∏è</i>
                <span>Edit Mode: ON</span>
            </button>
            <button class="toolbar-btn" onclick="saveAllChanges()">
                <i class="icon">üíæ</i>
                <span>Save All</span>
            </button>
            <a href="/accounts" class="toolbar-btn toolbar-btn-exit">
                <i class="icon">üëÅÔ∏è</i>
                <span>View Mode</span>
            </a>
        </div>
    </div>
</div>
{{/if}}

<div class="desktop-main-container {{#if isWysiwygMode}}wysiwyg-mode{{/if}}">
    {{> desktop/sidebar}}

    <main class="desktop-main-content">
        <!-- Page Header -->
        <div class="page-header">
            <h1 class="{{#if isWysiwygMode}}editable{{/if}}" 
                {{#if isWysiwygMode}}data-field="pageTitle" data-page="accounts" data-type="text"{{/if}}>
                {{desktopData.accounts.pageTitle}}
            </h1>
            <div class="header-actions">
                <button class="btn btn-primary-pill">My overview</button>
                <button class="btn btn-secondary-pill">Apply</button>
                <button class="btn btn-icon-small" title="Export as PDF">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14,2 14,8 20,8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10,9 9,9 8,9"></polyline>
                    </svg>
                </button>
                <button class="btn btn-icon-small" title="Print">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="6,9 6,2 18,2 18,9"></polyline>
                        <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
                        <rect x="6" y="14" width="12" height="8"></rect>
                    </svg>
                </button>
            </div>
        </div>

        <div class="accounts-layout">
            <!-- Main Content -->
            <div class="accounts-main">
                <!-- Personal Accounts Section -->
                <div class="accounts-section">
                    <div class="section-header">
                        <h2>Personal Accounts</h2>
                        <div class="bizum-toggle">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                                <path d="M2 17l10 5 10-5"></path>
                                <path d="M2 12l10 5 10-5"></path>
                            </svg>
                            <span>Send / Receive money (Bizum)</span>
                            <svg class="chevron-up" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="18 15 12 9 6 15"></polyline>
                            </svg>
                        </div>
                    </div>

                    <!-- Account Details -->
                    <div class="account-item">
                        <div class="account-info">
                            <a href="#" class="account-number-link {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="accountNumber" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.accountNumber}}
                            </a>
                            <div class="account-type {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="accountType" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.accountType}}
                            </div>
                            <div class="account-holder {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="accountHolder" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.accountHolder}}
                            </div>
                        </div>
                        <div class="account-balance">
                            <div class="balance-amount {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="currentBalance" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.currentBalance}}
                            </div>
                            <div class="balance-label">Current balance {{desktopData.accounts.currentBalance}}</div>
                        </div>
                    </div>

                    <!-- Available Balance -->
                    <div class="available-balance">
                        <span class="available-label">Available</span>
                        <a href="#" class="available-amount-link {{#if isWysiwygMode}}editable{{/if}}" 
                              {{#if isWysiwygMode}}data-field="availableBalance" data-page="accounts" data-type="text"{{/if}}>
                              {{desktopData.accounts.availableBalance}}
                        </a>
                    </div>
                </div>

                <!-- Cards Section -->
                <div class="cards-section">
                    <div class="section-header">
                        <h2>Cards</h2>
                        <svg class="chevron-up" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="18 15 12 9 6 15"></polyline>
                        </svg>
                    </div>

                    <!-- Cards Table Header -->
                    <div class="cards-table-header">
                        <div class="header-col-1">Debit card</div>
                        <div class="header-col-2"></div>
                        <div class="header-col-3">AVAILABLE</div>
                    </div>

                    <!-- Debit Card Row -->
                    <div class="card-table-row">
                        <div class="card-col-1">
                            <div class="card-image">
                                <svg viewBox="0 0 60 38" xmlns="http://www.w3.org/2000/svg">
                                    <rect width="60" height="38" rx="4" fill="#f1f5f9" stroke="#e2e8f0"/>
                                    <rect x="10" y="22" width="20" height="4" rx="1" fill="#cbd5e0"/>
                                    <rect x="35" y="22" width="15" height="4" rx="1" fill="#cbd5e0"/>
                                </svg>
                            </div>
                            <a href="#" class="card-number-link {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="cardNumber" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.cardNumber}}
                            </a>
                            <div class="card-status-pending {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="cardStatus" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.cardStatus}}
                            </div>
                            <div class="card-type {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="cardType" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.cardType}}
                            </div>
                            <div class="card-holder {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="accountHolder" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.accountHolder}}
                            </div>
                        </div>
                        <div class="card-col-2">
                            <button class="btn-activate compact-pill">Activate</button>
                        </div>
                        <div class="card-col-3">
                            <span class="card-available-dash">‚Äì</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Sidebar -->
            <div class="accounts-sidebar">
                <!-- Contact Info -->
                <div class="contact-card">
                    <div class="contact-header">
                        <div class="contact-icon">
                            <img class="clip-box__image" src="https://web.bbva.es/packages/assets/img/coronita/entity/clip/light/170.svg?v=3646262f" alt="">
                        </div>
                        <div class="contact-info">
                            <div class="contact-name {{#if isWysiwygMode}}editable{{/if}}" 
                                 {{#if isWysiwygMode}}data-field="contactTeam" data-page="accounts" data-type="text"{{/if}}>
                                 {{desktopData.accounts.contactTeam}}
                            </div>
                            <div class="contact-phone">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="phone-icon">
                                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                                </svg>
                                <span class="{{#if isWysiwygMode}}editable{{/if}}" 
                                      {{#if isWysiwygMode}}data-field="contactPhone" data-page="accounts" data-type="text"{{/if}}>
                                      {{desktopData.accounts.contactPhone}}
                                </span>
                            </div>
                        </div>
                    </div>
                    <button class="request-appointment-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="btn-icon-left">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        <span class="{{#if isWysiwygMode}}editable{{/if}}" 
                              {{#if isWysiwygMode}}data-field="appointmentText" data-page="accounts" data-type="text"{{/if}}>
                              {{desktopData.accounts.appointmentText}}
                        </span>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="btn-icon-right">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </button>
                </div>

                <!-- Scheduled Transfers -->
                <div class="transfers-card">
                    <h3 class="{{#if isWysiwygMode}}editable{{/if}}" 
                        {{#if isWysiwygMode}}data-field="transfersTitle" data-page="accounts" data-type="text"{{/if}}>
                        {{desktopData.accounts.transfersTitle}}
                    </h3>
                    <button class="view-btn compact-pill">View</button>
                </div>

                <!-- Product Suggestion -->
                <div class="product-card">
                    <div class="product-header">
                        <span>At BBVA, we help you</span>
                    </div>
                    <h3 class="{{#if isWysiwygMode}}editable{{/if}}" 
                        {{#if isWysiwygMode}}data-field="productSuggestion" data-page="accounts" data-type="text"{{/if}}>
                        {{desktopData.accounts.productSuggestion}}
                    </h3>
                    <div class="product-selector">
                        <select>
                            <option>Select the product family</option>
                            <option selected>Accounts and Cards</option>
                            <option>Loans and Mortgages</option>
                            <option>Savings and Investment</option>
                        </select>
                        <button class="enter-btn compact-pill">Enter now</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<!-- Floating Help Bubble -->
<div class="floating-help-bubble">
    <span class="help-label">Help</span>
    <span class="help-icon">?</span>
</div>

<!-- Footer -->
<footer class="bbva-footer">
    <div class="footer-content">
        <div class="footer-logo">
            <img src="/Logo-BBVA.webp" alt="BBVA" />
        </div>
        <div class="footer-links">
            <a href="#">Security</a>
            <a href="#">Legal notice</a>
            <a href="#">Cookies</a>
            <a href="#">Personal data</a>
            <a href="#">Customer fees</a>
            <a href="#">Statutory reports</a>
            <a href="#">Accessibility</a>
        </div>
        <div class="footer-badge">
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA4MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjQwIiByeD0iNCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjZTBlMGUwIi8+Cjx0ZXh0IHg9IjQwIiB5PSIxNSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzMzMzMzMyIgZm9udC1zaXplPSI4IiBmb250LWZhbWlseT0iQXJpYWwiPldDQUcgMi4xPC90ZXh0Pgo8dGV4dCB4PSI0MCIgeT0iMjUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzMzMzMzMiIGZvbnQtc2l6ZT0iOCIgZm9udC1mYW1pbHk9IkFyaWFsIj5BQSBMZXZlbDwvdGV4dD4KPC9zdmc+" alt="WCAG 2.1 AA Level" />
        </div>
    </div>
</footer>

<script src="/js/desktop/accounts.js"></script>
